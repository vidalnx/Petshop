<!DOCTYPE html>
<html lang="br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Carrinho - PetAmigo</title>
    <link rel="shortcut icon" href="img/logo.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="carrinho.css">
    <script src="script.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
    <header>
        <a href="index.html">
            <img src="img/logohead.png" alt="logo">
        </a>
        <div class="input">
            <input class="bus" type="search" placeholder="Buscar"><a href="#"><button class="bt"><i
                        class="fa-solid fa-magnifying-glass"></i></button></a>
        </div>
        </div>
        <nav>
            <a href="contato.html">
                <img src="img/telefone.png" alt="contato">
            </a>
            <a href="favoritos.html">
                <img src="img/coracao.png" alt="favoritos">
            </a>
            <a href="sacola.html">
                <img src="img/sacola.png" alt="sacola de compras">
            </a>
            <a href="perfil.hmtl">
                <img src="img/perfil.png" alt="perfil">
            </a>
            <ul>
                <li><a href="#">Entre ou<br>Cadastre-se</a></li>
            </ul>
        </nav>
    </header>
    <div class="categorias">
        <a href="racao-cachorro.html" style="text-decoration: none; color: white;">Cachorros</a>
        <a href="racao-gato.html" style="text-decoration: none; color: white;">Gato</a>
        <a href="racao-passaro.html" style="text-decoration: none; color: white;">Passaros</a>
        <a href="servicos.html" style="text-decoration: none; color: white;">Serviços</a>
    </div>
    <section class="carrinhos">
        <div class="carrinho-a">
            <h1>Meu carrinho</h1>
            <div class="cart">
                <div class="cart-content">
                    <ul id="cart" style="display: flex; flex-direction: column;"></ul>
                </div>
            </div>
            <div class="ca">
                <h3 style="padding: 10px;">Produtos Recomendados</h3>
                <div style="display: flex; justify-content: center;">
                    <div class="contentc">
                        <article class="prod">
                            <div class="articlediv">
                                <img src="img/racao1.jpg" alt="">
                                <p>Ração Hills para Cães Filhotes de Mini e Pequeno Porte Sabor Frango</p>
                                <spam>R$ 169,90</spam>
                            </div>
                            <div class="botoesc">
                                <button>Comprar</button>
                                <a href="">Adicionar ao carrinho</a>
                            </div>
                        </article>
                        <article class="prod">
                            <div class="articlediv">
                                <img src="img/racao2.jpg" alt="">
                                <p>Ração Hills Science Diet para Cães Adultos de Grande Porte Sabor Frango 12kg</p>
                                <spam>R$ 479,99</spam>
                            </div>
                            <div class="botoesc">
                                <button>Comprar</button>
                                <a href="">Adicionar ao carrinho</a>
                            </div>
                        </article>
                        <article class="prod">
                            <div class="articlediv">
                                <img src="img/racao3.jpg" alt="">
                                <p>Ração GranPlus Gourmet para Cães Adultos de Médio e Grande Porte Sabor Ovelha e Arroz
                                </p>
                                <spam>R$ 58,50</spam>
                            </div>
                            <div class="botoesc">
                                <button>Comprar</button>
                                <a href="">Adicionar ao carrinho</a>
                            </div>
                        </article>
                        <article class="prod">
                            <div class="articlediv">
                                <img src="img/racao4.jpg" alt="">
                                <p>Ração GranPlus Menu para Cães Adultos de Porte Mini Sabor Carne e Arroz</p>
                                <spam>R$ 166,90</spam>
                            </div>
                            <div class="botoesc">
                                <button>Comprar</button>
                                <a href="">Adicionar ao carrinho</a>
                            </div>
                        </article>
                    </div>
                </div>

            </div>
        </div>
        <div class="carrinho-b">
            <div class="cep">
                <h5>Calcule seu CEP:</h5>
                <input type="text" id="cep">
                <input type="submit" id="buttonb">
            </div>
            <div class="cart-resume">
                <p>Resumo do pedido</p>
                <div class="cart-price">
                    <p id="total">Total: R$ 0.00</p>
                </div>
                <button id="buttona">Comprar</button>
                <a href="index.html">
                    <button id="buttonb">Escolher mais produtos</button>
                </a>
            </div>
            <div class="cupom">
                <h5>Cupom</h5>
                <input type="text" id="cep"> <button id="buttonb">Aplicar</button>
            </div>
        </div>
    </section>
    <div class="site-info">
        <div class="links">
            <ul>
                <li><a href="sobre.html">Sobre</a></li>
                <li><a href="servicos.html">Serviços</a></li>
                <li><a href="contato.html">Contato</a></li>
            </ul>
        </div>
        <div class="social-links">
            <ul>
                <li><a href="#" class="facebook"><i class="fab fa-facebook"></i></a></li>
                <li><a href="#" class="twitter"><i class="fab fa-twitter"></i></a></li>
                <li><a href="#" class="instagram"><i class="fab fa-instagram"></i></a></li>
            </ul>
        </div>
    </div>
    <footer>
        <p><i>&copy; 2024 Pet Amigo. Todos os direitos reservados.</i></p>
    </footer>
    <script>
        function calculateTotal(cartList) {
        let total = 0;
        cartList.querySelectorAll('li').forEach(cartItem => {
            let price = cartItem.querySelector('.preco').textContent;
            price = parseFloat(price.replace('R$', '').replace(',', '.'));
            total = total + price;
        });
        return total;
        }
        function displayCart() {
            const cart = JSON.parse(localStorage.getItem('cart'));
            const cartList = document.getElementById('cart');

            cartList.innerHTML = '';

            if (cart && cart.length > 0) {
                cart.forEach(item => {
                    const cartItem = document.createElement('div');
                    cartItem.classList.add('item');

                    const checkbox = document.createElement('input');
                    checkbox.setAttribute('type', 'checkbox');
                    cartItem.appendChild(checkbox);

                    const cartprod = document.createElement('div');
                    cartprod.classList.add('cartprod');
                    const img = document.createElement('img');
                    img.src = item.image;
                    img.alt = item.name;
                    img.style.maxWidth = '100px';
                    cartprod.appendChild(img);
                    const itemName = document.createElement('p');
                    itemName.textContent = item.name;
                    cartprod.appendChild(itemName);
                    cartItem.appendChild(cartprod);

                    const cartb = document.createElement('div');
                    cartb.classList.add('cartb');
                    const select = document.createElement('select');
                    select.setAttribute('name', 'quantidade');
                    select.style.maxWidth = '50px';
                    for (let i = 1; i <= 3; i++) {
                        const option = document.createElement('option');
                        option.value = i;
                        option.textContent = i;
                        select.appendChild(option);
                    }
                    cartb.appendChild(select);
                    const span = document.createElement('span');
                    span.textContent = item.price;
                    cartb.appendChild(span);
                    cartItem.appendChild(cartb);

                    cartList.appendChild(cartItem);
                });
            } else {
                cartList.innerHTML = '<p>Carrinho vazio</p>';
            }
            calcularTotal();
        }


        window.onload = displayCart;

    </script>
</body>

</html>